NATIVE_ENABLED = true
DEBUG=-g
WARN_ERROR=-warn-error a
OCAMLFLAGS    += $(DEBUG) $(WARN_ERROR)
OCAMLOPTFLAGS = $(DEBUG) # -inline 100
USE_OCAMLFIND = true

OCAMLPACKS[] =
	batteries
	tokyo_cabinet
	json-wheel

OBJECTS[] =
	h
	utils
	graph
	common
	json_graph
	tokyo_graph
	binary_graph
	by_day
	dranges
	dreps
	proportional
	simulate
	
OCamlProgram(dosim, $(OBJECTS))

.DEFAULT: dosim

.PHONY: clean

clean:
	rm -f $(filter-proper-targets $(ls R, .)) *.s
